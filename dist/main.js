(()=>{"use strict";const e=document.querySelector("[data-current-year]"),t=(new Date).getFullYear();e.innerText=t.toString();const n={storageName:"localStorage",storageInstance:localStorage},a={storageName:"sessionStorage",storageInstance:sessionStorage},o=document.querySelector("[data-local]"),r=document.querySelector("[data-session]");function s(e){return"local"===e||"localStorage"===e?l(n):"session"===e||"sessionStorage"===e?l(a):void 0}function l({storageName:e,storageInstance:t}){const n=Object.assign({},t);"localStorage"===e?o.innerHTML="":r.innerHTML="";for(let t in n){const a=document.createElement("div");a.className="storage-item";const s=document.createElement("div");s.className="storage-item-header",s.setAttribute("role","button"),s.ariaPressed="false",s.tabIndex=0,s.title="Click to show/hide",s.addEventListener("click",u);const l=document.createElement("h3");l.className="storage-item-header-title",l.innerText=t;const i=document.createElement("div");i.classList.add("storage-item-controls");const g=document.createElement("button");g.className="storage-item-delete",g.innerHTML="&Cross;",g.dataset.storage=e,g.dataset.key=t,g.addEventListener("click",c);const m=document.createElement("span");m.dataset.arrow="",m.innerHTML="&darr;",m.classList.add("storage-item-controls");const v=document.createElement("button");v.className="storage-item-content",v.title="Click to copy",v.dataset.content="",v.innerText=n[t],v.addEventListener("click",d),i.append(g),i.append(m),s.append(l),s.append(i),a.append(s),a.append(v),"localStorage"===e&&(null==o||o.append(a)),"sessionStorage"===e&&(null==r||r.append(a))}}function c(e){const t=e.target;if(null==t)return;if(!(t instanceof HTMLButtonElement))return;const n=t.dataset.storage,a=t.dataset.key;if(null==n)return;if(null==a)return;const o=i(n);null!=o&&(o.removeItem(a),s(n))}function i(e){return"local"===e||"localStorage"===e?localStorage:"session"===e||"sessionStorage"===e?sessionStorage:void 0}function u(e){var t;const n=e.target,a=null===(t=null==n?void 0:n.parentElement)||void 0===t?void 0:t.querySelector("[data-content]");null==a||a.classList.toggle("show"),function(e,t){const n=e.querySelector("[data-arrow]");if(null==t?void 0:t.classList.contains("show"))return n.innerHTML="&uarr;";n.innerHTML="&darr;"}(n.parentElement,a)}function d(e){const t=e.target;null!=t&&""!=t.innerText&&navigator.clipboard.writeText(t.innerText)}l(n),l(a),document.querySelector("[data-add-form]").addEventListener("submit",(function(e){var t,n;e.preventDefault();const a=e.target,o=new FormData(a),r=a.querySelector('input[name="key"]'),l=a.querySelector('input[name="value"]'),c=o.get("storage"),u=null===(t=o.get("key"))||void 0===t?void 0:t.toString(),d=null===(n=o.get("value"))||void 0===n?void 0:n.toString();if(null==c||""===c)return;if(""===u||null==u)return;if(""===d||null==d)return;const g=i(c);null!=g&&(g.setItem(u,d),s(c),r.value="",l.value="")}))})();